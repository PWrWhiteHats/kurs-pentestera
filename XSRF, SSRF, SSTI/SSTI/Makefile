# Define variables
HOST_IMAGE_NAME := vulnerable-ssti-app
HOST_CONTAINER_NAME := vulnerable-ssti-app-container
HOST_PORT := 727

.PHONY: start build run clean

start: build run

build:
	# Build Docker image
	docker build -t $(HOST_IMAGE_NAME) -f Dockerfile .
	

run:
	# Run Docker container
	docker run -d -p $(HOST_PORT):5000 --name $(HOST_CONTAINER_NAME) $(HOST_IMAGE_NAME)
	

clean:
	# Stop and remove Docker container
	docker stop $(HOST_CONTAINER_NAME) || true
	docker rm $(HOST_CONTAINER_NAME) || true
